<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html 	xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"  
   		xmlns:f="http://java.sun.com/jsf/core" 
    	xmlns:p="http://primefaces.org/ui"
    	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
        <style type="text/css">
            .old {
                background-color: #fca752 !important;
                background-image: none !important;
                color: #000000 !important;
            }
            .total {
                background-color: #A9D0F5 !important;
                background-image: none !important;
                color: #000000 !important;
            }    
            .totalColuna {
                background-color: #81BEF7 !important;
                background-image: none !important;
                color: #000000 !important;
            }         
        </style>

</h:head>
   	
<h:body >
<h:form>
<p:remoteCommand action="#{consolidadotransporteMB.init}" autoRun="true"/>
</h:form>
<h:form id="cons">
	<p:selectOneMenu id="ano" value="#{consolidadotransporteMB.ano}"  style="width:130px;" >	
        <f:selectItems value="#{consolidadotransporteMB.anos}" />
		<p:ajax event="change" listener="#{consolidadotransporteMB.listar}" update="cons"/>
	</p:selectOneMenu>
    <h:commandLink>
        <p:graphicImage value="img/excel.png" alt="Exportar para Excel" title="Exportar para Excel"/>
        <p:dataExporter type="xls" target="tbGst" fileName="controledegastos" pageOnly="true"/>
    </h:commandLink>
	<br></br>
	<br></br>
    <p:dataTable id="tbGst" var="v" value="#{consolidadotransporteMB.gastos}" styleClass="consolidado" reflow="true" emptyMessage="">
    
         <f:facet name="header">
             Gastos das Despesas Gerais - Transporte - #{consolidadotransporteMB.ano} 
        </f:facet>
     
        <p:column headerText="Descrição" style="width:275px">
            <h:outputText value="#{v.despesa}" style="font-size: 0.85em !important;font-weight: bold;"/>
        </p:column>        
        <p:column headerText="Jan" style="text-align: right;">
			<h:outputText value="#{v.janeiro}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.janeiro != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	
        </p:column>
        <p:column headerText="Fev" style="text-align: right;">
			<h:outputText value="#{v.fevereiro}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.fevereiro != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>				
        </p:column>
        <p:column headerText="Mar" style="text-align: right;">
			<h:outputText value="#{v.marco}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.marco != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	         
        </p:column>
        <p:column headerText="Abr" style="text-align: right;">
			<h:outputText value="#{v.abril}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.abril != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	         
        </p:column>
        <p:column headerText="Mai" style="text-align: right;">
			<h:outputText value="#{v.maio}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.maio != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	         
        </p:column>
        <p:column headerText="Jun" style="text-align: right;">
			<h:outputText value="#{v.junho}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.junho != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	         
        </p:column>
        <p:column headerText="Jul" style="text-align: right;">
			<h:outputText value="#{v.julho}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.julho != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	
        </p:column>
        <p:column headerText="Ago" style="text-align: right;">
 			<h:outputText value="#{v.agosto}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.agosto != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	        
        </p:column>
        <p:column headerText="Set" style="text-align: right;">
			<h:outputText value="#{v.setembro}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.setembro != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	         
        </p:column>
        <p:column headerText="Out" style="text-align: right;">
			<h:outputText value="#{v.outubro}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.outubro != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	         
        </p:column>
        <p:column headerText="Nov" style="text-align: right;">
			<h:outputText value="#{v.novembro}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.novembro != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	         
        </p:column>
        <p:column headerText="Dez" style="text-align: right;">
			<h:outputText value="#{v.dezembro}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.dezembro != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	         
        </p:column>    
        <p:column headerText="Total" style="text-align: right;" styleClass="totalColuna">
			<h:outputText value="#{v.total}" style="font-size: 0.85em !important;font-weight: bold;" rendered="#{v.total != 0.0}">
				<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
			</h:outputText>	         
        </p:column>            
     </p:dataTable>
     
    <p:dataTable id="tbtot" var="t" value="#{consolidadotransporteMB.totais}"  rowStyleClass="#{t.despesa le 'TOTAIS' ? 'total' : null}"
         	styleClass="consolidado" reflow="true" emptyMessage="">

	        <p:column style="width:275px;text-align: right;">
	            <h:outputText value="#{t.despesa}" style="font-size: 0.85em !important;font-weight: bold;"/>
	        </p:column>        
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.janeiro}" style="font-size: 0.85em !important;font-weight: bold;">
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.fevereiro}" style="font-size: 0.85em !important;font-weight: bold;" >
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>				
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.marco}" style="font-size: 0.85em !important;font-weight: bold;" >
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	         
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.abril}" style="font-size: 0.85em !important;font-weight: bold;">
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	         
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.maio}" style="font-size: 0.85em !important;font-weight: bold;">
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	         
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.junho}" style="font-size: 0.85em !important;font-weight: bold;">
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	         
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.julho}" style="font-size: 0.85em !important;font-weight: bold;" >
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	
	        </p:column>
	        <p:column  style="text-align: right;">
	 			<h:outputText value="#{t.agosto}" style="font-size: 0.85em !important;font-weight: bold;">
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	        
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.setembro}" style="font-size: 0.85em !important;font-weight: bold;" >
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	         
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.outubro}" style="font-size: 0.85em !important;font-weight: bold;" >
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	         
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.novembro}" style="font-size: 0.85em !important;font-weight: bold;">
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	         
	        </p:column>
	        <p:column style="text-align: right;">
				<h:outputText value="#{t.dezembro}" style="font-size: 0.85em !important;font-weight: bold;" >
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	         
	        </p:column>
	        <p:column  style="text-align: right;">
				<h:outputText value="#{t.total}" style="font-size: 0.85em !important;font-weight: bold;">
					<f:convertNumber type="number" minFractionDigits="2" maxFractionDigits="2"/>	           																
				</h:outputText>	         
	        </p:column> 
        </p:dataTable>      

</h:form>


</h:body>	

</html>